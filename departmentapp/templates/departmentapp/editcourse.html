{% extends 'departmentapp/base.html' %}
{% load static %}

{% block sidebar %}
    {% include 'departmentapp/sidebar.html' with dept_code=result.department.dept_code %}
{% endblock %}

{% block content %}
    {% if not result.error %}
    <div class="row">
         <div class="page-header col-lg-12">
             <h3>Update Course {{ result.initial_coursedetails.course_name }}</h3>
         </div>
    </div>
    <div class="row">

        <div class="col-lg-12">
            {% if updateError %}
                <div class="row">
                    <div class="alert alert-danger">
                        <h4>Please fill a valid form!</h4>
                        <p>{{ updateError.message }}</p>
                    </div>
                    <hr>
                </div>
            {% endif %}

            <div class="row">
                <form id="updateCourse" role="form" method="post" action="{% url 'departmentapp:edit_course' result.department.dept_code result.initial_coursedetails.course_code %}">
                    {% csrf_token %}

                    <div class="col-lg-8 col-lg-push-2">
                        <div class="form-group">
                            <label for="course_code">Course Code </label>
                            <input type="text" name="course_code" value="{{ result.initial_coursedetails.course_code }}" id="course_code" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="course_name">Course Name </label>
                            <input type="text" name="course_name" value="{{ result.initial_coursedetails.course_name }}" id="course_name" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="elective">Elective </label>
                            <input type="radio" name="elective" value="1" id="elective" style="margin-left: 4%" {% if result.initial_coursedetails.elective %}checked{% endif %}> Yes
                            <input type="radio" name="elective" value="0" id="elective" style="margin-left: 4%" {% if not result.initial_coursedetails.elective %}checked{% endif %}> No
                        </div>
                        <hr>
                        <input type="submit" value="Update Course" class="form-submit btn btn-primary">
                    </div>
                </form>
                <br>
            </div>
        </div>
    </div>
    {% else %}
        <div class="alert alert-danger">
            <h3>INTERNAL SERVER ERROR IN DISPLAYING FORM</h3>
            <p>{{ result.message }}</p>
        </div>
    {% endif %}

{% endblock %}

{% block extrajs %}
    <script>

    </script>
{% endblock %}